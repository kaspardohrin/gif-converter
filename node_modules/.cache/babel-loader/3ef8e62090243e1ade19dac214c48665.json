{"ast":null,"code":"var _slicedToArray = require(\"C:/Users/kaspar/Documents/cmgt/specialisatie-block/react-tsc/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar duration = 0;\n\nvar ts2sec = function ts2sec(ts) {\n  var _ts$split = ts.split(':'),\n      _ts$split2 = _slicedToArray(_ts$split, 3),\n      h = _ts$split2[0],\n      m = _ts$split2[1],\n      s = _ts$split2[2];\n\n  return parseFloat(h) * 60 * 60 + parseFloat(m) * 60 + parseFloat(s);\n};\n\nmodule.exports = function (message, progress) {\n  if (typeof message === 'string') {\n    if (message.startsWith('  Duration')) {\n      var ts = message.split(', ')[0].split(': ')[1];\n      var d = ts2sec(ts);\n\n      if (duration === 0 || duration > d) {\n        duration = d;\n      }\n    } else if (message.startsWith('frame')) {\n      var _ts = message.split('time=')[1].split(' ')[0];\n      var t = ts2sec(_ts);\n      progress({\n        ratio: t / duration\n      });\n    } else if (message.startsWith('video:')) {\n      progress({\n        ratio: 1\n      });\n      duration = 0;\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/kaspar/Documents/cmgt/specialisatie-block/react-tsc/node_modules/@ffmpeg/ffmpeg/src/utils/parseProgress.js"],"names":["duration","ts2sec","ts","split","h","m","s","parseFloat","module","exports","message","progress","startsWith","d","t","ratio"],"mappings":";;AAAA,IAAIA,QAAQ,GAAG,CAAf;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,EAAD,EAAQ;AAAA,kBACHA,EAAE,CAACC,KAAH,CAAS,GAAT,CADG;AAAA;AAAA,MACdC,CADc;AAAA,MACXC,CADW;AAAA,MACRC,CADQ;;AAErB,SAAQC,UAAU,CAACH,CAAD,CAAV,GAAgB,EAAhB,GAAqB,EAAtB,GAA6BG,UAAU,CAACF,CAAD,CAAV,GAAgB,EAA7C,GAAmDE,UAAU,CAACD,CAAD,CAApE;AACD,CAHD;;AAKAE,MAAM,CAACC,OAAP,GAAiB,UAACC,OAAD,EAAUC,QAAV,EAAuB;AACtC,MAAI,OAAOD,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,QAAIA,OAAO,CAACE,UAAR,CAAmB,YAAnB,CAAJ,EAAsC;AACpC,UAAMV,EAAE,GAAGQ,OAAO,CAACP,KAAR,CAAc,IAAd,EAAoB,CAApB,EAAuBA,KAAvB,CAA6B,IAA7B,EAAmC,CAAnC,CAAX;AACA,UAAMU,CAAC,GAAGZ,MAAM,CAACC,EAAD,CAAhB;;AACA,UAAIF,QAAQ,KAAK,CAAb,IAAkBA,QAAQ,GAAGa,CAAjC,EAAoC;AAClCb,QAAAA,QAAQ,GAAGa,CAAX;AACD;AACF,KAND,MAMO,IAAIH,OAAO,CAACE,UAAR,CAAmB,OAAnB,CAAJ,EAAiC;AACtC,UAAMV,GAAE,GAAGQ,OAAO,CAACP,KAAR,CAAc,OAAd,EAAuB,CAAvB,EAA0BA,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAX;AACA,UAAMW,CAAC,GAAGb,MAAM,CAACC,GAAD,CAAhB;AACAS,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,KAAK,EAAED,CAAC,GAAGd;AAAb,OAAD,CAAR;AACD,KAJM,MAIA,IAAIU,OAAO,CAACE,UAAR,CAAmB,QAAnB,CAAJ,EAAkC;AACvCD,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,KAAK,EAAE;AAAT,OAAD,CAAR;AACAf,MAAAA,QAAQ,GAAG,CAAX;AACD;AACF;AACF,CAjBD","sourcesContent":["let duration = 0;\n\nconst ts2sec = (ts) => {\n  const [h, m, s] = ts.split(':');\n  return (parseFloat(h) * 60 * 60) + (parseFloat(m) * 60) + parseFloat(s);\n};\n\nmodule.exports = (message, progress) => {\n  if (typeof message === 'string') {\n    if (message.startsWith('  Duration')) {\n      const ts = message.split(', ')[0].split(': ')[1];\n      const d = ts2sec(ts);\n      if (duration === 0 || duration > d) {\n        duration = d;\n      }\n    } else if (message.startsWith('frame')) {\n      const ts = message.split('time=')[1].split(' ')[0];\n      const t = ts2sec(ts);\n      progress({ ratio: t / duration });\n    } else if (message.startsWith('video:')) {\n      progress({ ratio: 1 });\n      duration = 0;\n    }\n  }\n};\n"]},"metadata":{},"sourceType":"script"}