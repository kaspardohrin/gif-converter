{"ast":null,"code":"import _toConsumableArray from\"C:/Users/kaspar/Documents/cmgt/specialisatie-block/react-tsc/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/kaspar/Documents/cmgt/specialisatie-block/react-tsc/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var _storage_get;var notes_initial={notes:(_storage_get=storage_get('notes'))!==null&&_storage_get!==void 0?_storage_get:[{text:'Welkom! Dit is je eerste notitie :) Type in het invoerveld om nieuwe notities toe te voegen!',ts:Date.now(),id:'1'}]};export var notes_reducer=function notes_reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:notes_initial;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'ADD_NOTE':storage_set('notes',action.payload);return _objectSpread(_objectSpread({},state),{},{notes:[action.payload].concat(_toConsumableArray(state.notes))});case'REMOVE_NOTE':storage_unset('notes',action.payload);return _objectSpread(_objectSpread({},state),{},{notes:_toConsumableArray(state.notes.filter(function(x){return x.id!==action.payload.id;}))});default:return state;}};function storage_get(key){var storage=JSON.parse(localStorage.getItem(key));return storage.length!==0?storage:null;}function storage_set(key,data){var storage_old=JSON.parse(localStorage.getItem(key));var storage_new=JSON.stringify([data].concat(_toConsumableArray(storage_old)));localStorage.setItem(key,storage_new);}function storage_unset(key,data){var storage_old=JSON.parse(localStorage.getItem(key));var filter=storage_old.filter(function(x){return x.id!==data.id;});var storage_new=JSON.stringify(_toConsumableArray(filter));localStorage.setItem(key,storage_new);}","map":{"version":3,"sources":["C:/Users/kaspar/Documents/cmgt/specialisatie-block/react-tsc/src/reducer/notes.ts"],"names":["notes_initial","notes","storage_get","text","ts","Date","now","id","notes_reducer","state","action","type","storage_set","payload","storage_unset","filter","x","key","storage","JSON","parse","localStorage","getItem","length","data","storage_old","storage_new","stringify","setItem"],"mappings":"sTAMA,GAAMA,CAAAA,aAAa,CAAG,CAClBC,KAAK,eAAEC,WAAW,CAAC,OAAD,CAAb,6CACE,CAAC,CAAEC,IAAI,CAAE,8FAAR,CAAwGC,EAAE,CAAEC,IAAI,CAACC,GAAL,EAA5G,CAAwHC,EAAE,CAAE,GAA5H,CAAD,CAFW,CAAtB,CAUA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAkD,IAAjDC,CAAAA,KAAiD,2DAAlCT,aAAkC,IAAnBU,CAAAA,MAAmB,2CAC3E,OAAQA,MAAM,CAACC,IAAf,EACI,IAAK,UAAL,CACIC,WAAW,CAAC,OAAD,CAAUF,MAAM,CAACG,OAAjB,CAAX,CAEA,sCAAYJ,KAAZ,MAAmBR,KAAK,EAAGS,MAAM,CAACG,OAAV,4BAAsBJ,KAAK,CAACR,KAA5B,EAAxB,GACJ,IAAK,aAAL,CACIa,aAAa,CAAC,OAAD,CAAUJ,MAAM,CAACG,OAAjB,CAAb,CAEA,sCAAYJ,KAAZ,MAAmBR,KAAK,oBAAMQ,KAAK,CAACR,KAAN,CAAYc,MAAZ,CAAmB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACT,EAAF,GAASG,MAAM,CAACG,OAAP,CAAeN,EAA5B,EAApB,CAAN,CAAxB,GACJ,QACI,MAAOE,CAAAA,KAAP,CAVR,CAYH,CAbM,CAeP,QAASP,CAAAA,WAAT,CAAqBe,GAArB,CAAmC,CAC/B,GAAMC,CAAAA,OAAoB,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBL,GAArB,CAAX,CAA7B,CAEA,MAAQC,CAAAA,OAAO,CAACK,MAAR,GAAmB,CAApB,CAAyBL,OAAzB,CAAmC,IAA1C,CACH,CAED,QAASN,CAAAA,WAAT,CAAqBK,GAArB,CAAkCO,IAAlC,CAA+C,CAC3C,GAAMC,CAAAA,WAAwB,CAAGN,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBL,GAArB,CAAX,CAAjC,CAEA,GAAMS,CAAAA,WAAmB,CAAGP,IAAI,CAACQ,SAAL,EAAgBH,IAAhB,4BAAyBC,WAAzB,GAA5B,CAEAJ,YAAY,CAACO,OAAb,CAAqBX,GAArB,CAA0BS,WAA1B,EACH,CAED,QAASZ,CAAAA,aAAT,CAAuBG,GAAvB,CAAoCO,IAApC,CAAiD,CAC7C,GAAMC,CAAAA,WAAwB,CAAGN,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBL,GAArB,CAAX,CAAjC,CAEA,GAAMF,CAAAA,MAAM,CAAGU,WAAW,CAACV,MAAZ,CAAmB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACT,EAAF,GAASiB,IAAI,CAACjB,EAAlB,EAApB,CAAf,CAEA,GAAMmB,CAAAA,WAAmB,CAAGP,IAAI,CAACQ,SAAL,oBAAmBZ,MAAnB,EAA5B,CAEAM,YAAY,CAACO,OAAb,CAAqBX,GAArB,CAA0BS,WAA1B,EACH","sourcesContent":["import { Note } from '../types/notes'\r\n\r\nexport interface State {\r\n    notes: Array<Note>\r\n}\r\n\r\nconst notes_initial = {\r\n    notes: storage_get('notes')\r\n        ?? [{ text: 'Welkom! Dit is je eerste notitie :) Type in het invoerveld om nieuwe notities toe te voegen!', ts: Date.now(), id: '1', }]\r\n}\r\n\r\ntype Action = {\r\n    type: 'ADD_NOTE' | 'REMOVE_NOTE' | 'DISPLAY_NOTE',\r\n    payload: Note,\r\n}\r\n\r\nexport const notes_reducer = (state: State = notes_initial, action: Action) => {\r\n    switch (action.type) {\r\n        case 'ADD_NOTE':\r\n            storage_set('notes', action.payload)\r\n\r\n            return { ...state, notes: [action.payload, ...state.notes] }\r\n        case 'REMOVE_NOTE':\r\n            storage_unset('notes', action.payload)\r\n\r\n            return { ...state, notes: [...state.notes.filter(x => x.id !== action.payload.id)] }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nfunction storage_get(key: string,) {\r\n    const storage: Array<Note> = JSON.parse(localStorage.getItem(key)!)\r\n\r\n    return (storage.length !== 0) ? storage : null\r\n}\r\n\r\nfunction storage_set(key: string, data: Note,) {\r\n    const storage_old: Array<Note> = JSON.parse(localStorage.getItem(key)!)\r\n\r\n    const storage_new: string = JSON.stringify([data, ...storage_old,])\r\n\r\n    localStorage.setItem(key, storage_new)\r\n}\r\n\r\nfunction storage_unset(key: string, data: Note,) {\r\n    const storage_old: Array<Note> = JSON.parse(localStorage.getItem(key)!)\r\n\r\n    const filter = storage_old.filter(x => x.id !== data.id)\r\n\r\n    const storage_new: string = JSON.stringify([...filter])\r\n\r\n    localStorage.setItem(key, storage_new)\r\n}\r\n"]},"metadata":{},"sourceType":"module"}