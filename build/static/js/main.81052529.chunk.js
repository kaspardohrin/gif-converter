(this["webpackJsonpreact-tsc"]=this["webpackJsonpreact-tsc"]||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(12),o=n.n(i),s=(n(37),n(3)),l=(n(38),n(5)),u=n(70),d=(n(43),function(e){var t=e.add,n=r.a.useState(""),c=Object(s.a)(n,2),i=c[0],o=c[1],l=function(){t({text:i,ts:Date.now(),id:Object(u.a)()}),o("")};return Object(a.jsxs)("div",{className:"note-input-container",children:[Object(a.jsx)("textarea",{onChange:function(e){o(e.target.value.replace(/^\W$/g,""))},onKeyPress:function(e){"Enter"===e.key&&i&&l()},value:i,name:"note",placeholder:"Type here"}),Object(a.jsx)("button",{onClick:function(){i&&l()},children:"Add"})]})}),j=(n(44),n(7)),b=n(8),h=function(e){var t=e.remove,n=Object(l.c)((function(e){return e.notes}));return Object(a.jsx)("div",{className:"notes-display-container",children:Object(a.jsx)("ul",{children:n.map((function(e,n){return Object(a.jsxs)("li",{children:[Object(a.jsx)("button",{onClick:function(){return function(e){t(e)}(e)},children:Object(a.jsx)(j.a,{icon:b.c})}),e.text,Object(a.jsx)("span",{children:new Date(e.ts).toUTCString()})]},n)}))})})},f=n(4),O=n.n(f),p=n(22),v=n(23),m=(n(66),Object(v.createFFmpeg)()),x=function(){var e=r.a.useState(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],o=r.a.useState("0"),l=Object(s.a)(o,2),u=l[0],d=l[1],j=r.a.useState("5"),b=Object(s.a)(j,2),h=b[0],f=b[1],x=r.a.useState(0),g=Object(s.a)(x,2),y=g[0],w=g[1],N=r.a.useState(),S=Object(s.a)(N,2),k=S[0],C=S[1],I=r.a.useState(""),E=Object(s.a)(I,2),R=E[0],T=E[1],D=r.a.useState(!1),F=Object(s.a)(D,2),J=F[0],A=F[1];Object(c.useEffect)((function(){L()}),[]);var L=function(){var e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.isLoaded()){e.next=2;break}return e.abrupt("return",i(!0));case 2:return e.next=4,m.load();case 4:i(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(p.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=2;break}return e.abrupt("return");case 2:return A(!0),e.t0=m,e.next=6,Object(v.fetchFile)(k);case 6:return e.t1=e.sent,e.next=9,e.t0.FS.call(e.t0,"writeFile","test.mp4",e.t1);case 9:return e.next=11,m.run("-i","test.mp4","-t","".concat(h),"-ss","".concat(u),"-f","gif","out.gif");case 11:A(!1),t=m.FS("readFile","out.gif"),n=URL.createObjectURL(new Blob([t.buffer],{type:"image/gif"})),T(n);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(a.jsxs)("div",{className:"media-container",children:[k?Object(a.jsx)("video",{controls:!0,src:URL.createObjectURL(k),onLoadedMetadata:function(e){return function(e){var t=e.target.duration,n=Number(String(t).split(/\./g)[0]);w(n)}(e)}}):Object(a.jsx)("div",{className:"placeholder-video"}),Object(a.jsxs)("div",{className:"control-panel",children:[Object(a.jsx)("input",{onChange:function(e){var t,n=null===(t=e.target.files)||void 0===t?void 0:t.item(0);"mp4"!==n.name.split(/\./g).pop()&&"video/mp4"!==n.type||C(n)},type:"file"}),Object(a.jsx)("span",{children:"Start:"}),Object(a.jsx)("input",{onChange:function(e){var t=Number(e.target.value),n=Number(h);if(k){if(t<0)return d("0");t>y&&(t=y-1),d("".concat(y-1)),n+t-1>y&&f("".concat(y-t)),t>=y||d("".concat(t))}},type:"number",placeholder:u,value:u}),Object(a.jsx)("span",{children:"Duration:"}),Object(a.jsx)("input",{onChange:function(e){var t=Number(e.target.value),n=Number(u);if(k){if(t<1)return f("1");t>y&&(t=y),f("".concat(y)),n+t>y&&d("".concat(y-t)),t>=y||f("".concat(t))}},type:"number",placeholder:h,value:h}),Object(a.jsx)("button",{onClick:U,children:"Convert"})]}),R?Object(a.jsx)("img",{src:R,width:"250",alt:"gif of the video you've uploaded"}):Object(a.jsx)("div",{className:"placeholder-gif",children:Object(a.jsx)("div",{className:"".concat(J?"loading":"")})})]}):Object(a.jsx)("div",{className:"loading-screen",children:Object(a.jsx)("div",{id:"spinner"})})},g=(n(67),function(){return Object(a.jsxs)("div",{className:"questions-display-container",children:[Object(a.jsx)("h3",{children:"Instant GIF Converter"}),"This application uses TypeScript React and Redux to manage the state of the notes you add.",Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),"It's been my first time creating a React application from scratch.",Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),"Besides learning Redux, state-management and the React-types I've been getting a bit side-tracked:",Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"I've added local-storage for the notes, which allows for notes to be stored for ever."}),Object(a.jsx)("li",{children:"I've added a video-to-gif-converter using ffmpeg, a library written in C, which compliles to Web Assembly. Web Assembly is a very new technology, which, instead of compiling everything to Javascript in webbrowsers, compiles to machine code. Where compilers can be build for basically any language, with near native performance. For this reason, and the library being in C, the conversion of video, which is normally done on the cloud as Javascript in the browser simply isn't powerfull enough, allows for this performance-heavy-task to be performed directly in the webbrowser, using the users hardware."}),Object(a.jsx)("li",{children:"You can add any video file, select where you want the gif to start, and how long you want the gif to be. Then simply select the convert button, and the gif will display below the video preview."})]})]})});var y,w=function(){var e=r.a.useState(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],i=r.a.useState(!1),o=Object(s.a)(i,2),u=o[0],f=o[1],O=Object(l.b)();return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("div",{className:"side-panel-container",children:[Object(a.jsx)("button",{className:"sticky-note",title:"Notes",onClick:function(){c(!n),f(!1)},children:Object(a.jsx)(j.a,{icon:b.b})}),Object(a.jsx)("button",{className:"question-mark",title:"Info",onClick:function(){f(!u),c(!1)},children:Object(a.jsx)(j.a,{icon:b.a})})]}),Object(a.jsxs)("div",{className:"notes-container ".concat(n?"":"hidden"),children:[Object(a.jsx)(d,{add:function(e){O({type:"ADD_NOTE",payload:e})}}),Object(a.jsx)(h,{remove:function(e){O({type:"REMOVE_NOTE",payload:e})}})]}),Object(a.jsx)("div",{className:"questions-container ".concat(u?"":"hidden"),children:Object(a.jsx)(g,{})}),Object(a.jsx)("div",{className:"converter-container",children:Object(a.jsx)(x,{})})]})},N=n(14),S=n(9),k=n(10),C={notes:null!==(y=function(e){var t=JSON.parse(localStorage.getItem(e));return 0!==t.length?t:null}("notes"))&&void 0!==y?y:[{text:"Welkom! Dit is je eerste notitie :) Type in het invoerveld om nieuwe notities toe te voegen!",ts:Date.now(),id:"1"}]};function I(e,t){var n=JSON.parse(localStorage.getItem(e)),a=JSON.stringify([t].concat(Object(S.a)(n)));localStorage.setItem(e,a)}function E(e,t){var n=JSON.parse(localStorage.getItem(e)).filter((function(e){return e.id!==t.id})),a=JSON.stringify(Object(S.a)(n));localStorage.setItem(e,a)}var R=Object(N.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTE":return I("notes",t.payload),Object(k.a)(Object(k.a)({},e),{},{notes:[t.payload].concat(Object(S.a)(e.notes))});case"REMOVE_NOTE":return E("notes",t.payload),Object(k.a)(Object(k.a)({},e),{},{notes:Object(S.a)(e.notes.filter((function(e){return e.id!==t.payload.id})))});default:return e}}));o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(l.a,{store:R,children:Object(a.jsx)(w,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.81052529.chunk.js.map